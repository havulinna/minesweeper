<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>AngularJS minesweeper</title>
    <link rel="stylesheet" href="css/minesweeper.css" />

    <script src="http://code.angularjs.org/1.2.14/angular.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>

    <script src="js/minesweeper.js"></script>
    <script src="js/app.js"></script>
</head>
<body>
    <div data-ng-app="MinesweeperApp">
        <div data-ng-controller="MinesweeperCtrl">
            <div class="game"
                data-ng-class="{ 'game-on' : isGameOn(), 'game-over' : isGameOver(), 'game-won' : isGameWon(), 'game-lost' : isGameLost()}">
                <h1>
                    AngularJS minesweeper
                </h1>

                <p data-ng-if="isGameWon()">You won!</p>
                <p data-ng-if="isGameLost()">You lost!</p>

                <p>
                    Start a new game:
                    <button data-ng-click="newGame(10, 10, 6)">Easy</button>
                    <button data-ng-click="newGame(15, 15, 30)">Fair</button>
                    <button data-ng-click="newGame(20, 20, 40)">Hard</button>
                </p>

                <table data-ng-if="game">
                    <tr data-ng-repeat="row in rows">
                        <td data-ng-repeat="square in row"
                            data-ng-click="openSquare(square)"
                            data-ng-right-click="toggleFlag(square)"
                            class="square"
                            data-ng-class="{ mine : square.isMine(), flagged : square.isFlagged(), open : square.isOpen() }">
                            <span class="neighbor-count"
                                data-ng-show="square.getNearbyMines() !== 0">{{ square.getNearbyMines() }}</span>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>

</html>
